- type: storeCategory
  id: MageAbilities
  name: store-category-mage-abilities

- type: currency
  id: Spellpoints
  displayName: store-currency-display-spellpoints
  canWithdraw: false

- type: storePreset
  id: StorePresetMage
  storeName: Spellbook
  categories:
  - MageAbilities
  currencyWhitelist:
  - Spellpoints

#spellbooks
- type: entity
  parent: BaseItem
  id: BaseMageSpellbook
  name: Mage spell book
  description: Elder mage spellbook. You really shouldn`t keep it in your hands.
  suffix: Empty
  components:
  - type: Sprite
    sprite: Objects/Magic/magicactions.rsi
    layers:
    - state: spell_default
  - type: Item
    sprite: Objects/Magic/magicactions.rsi
  - type: UserInterface
    interfaces:
    - key: enum.StoreUiKey.Key
      type: StoreBoundUserInterface
  - type: ActivatableUI
    key: enum.StoreUiKey.Key
  - type: Store
    preset: StorePresetMage
    balance:
      Spellpoints: 0

- type: entity
  parent: BaseMageSpellbook
  id: BaseMageSpellbook5Spellpoints
  suffix: 5 SP
  components:
  - type: Store
    preset: StorePresetMage
    balance:
      Spellpoints: 5

- type: entity
  parent: BaseMageSpellbook
  id: BaseMageSpellbook10Spellpoints
  suffix: 10 SP
  components:
  - type: Store
    preset: StorePresetMage
    balance:
      Spellpoints: 10

- type: entity
  parent: BaseMageSpellbook
  id: BaseMageSpellbook20Spellpoints
  suffix: 20 SP
  components:
  - type: Store
    preset: StorePresetMage
    balance:
      Spellpoints: 20

- type: entity
  parent: BaseMageSpellbook
  id: BaseMageSpellbookDebug
  suffix: DEBUG
  components:
  - type: Store
    preset: StorePresetMage
    balance:
      Spellpoints: 99999



#abilities
- type: listing
  id: MageFireball
  name: spellbook-ability-fireball-name
  description: spellbook-ability-fireball-desc
  productAction: ActionFireball
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageGreatForcewall
  name: spellbook-ability-great-forcewall-name
  description: spellbook-ability-great-forcewall-desc
  productAction: ActionGreatForceWall
  cost:
    Spellpoints: 2
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageKnock
  name: spellbook-ability-knock-name
  description: spellbook-ability-knock-desc
  productAction: ActionKnock
  cost:
    Spellpoints: 2
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageFlashRune
  name: spellbook-ability-flash-rune-name
  description: spellbook-ability-flash-rune-desc
  productAction: ActionFlashRune
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageExplosionRune
  name: spellbook-ability-explosion-rune-name
  description: spellbook-ability-explosion-rune-desc
  productAction: ActionExplosionRune
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageIgniteRune
  name: spellbook-ability-ignite-rune-name
  description: spellbook-ability-ignite-rune-desc
  productAction: ActionIgniteRune
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageStunRune
  name: spellbook-ability-stun-rune-name
  description: spellbook-ability-stun-rune-desc
  productAction: ActionStunRune
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageSmite
  name: spellbook-ability-smite-name
  description: spellbook-ability-smite-desc
  productAction: ActionSmite
  cost:
    Spellpoints: 2
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageSpawnMagicarpSpell
  name: spellbook-ability-summon-magicarp-name
  description: spellbook-ability-summon-magicarp-desc
  productAction: ActionSpawnMagicarpSpell
  cost:
    Spellpoints: 2
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageRGB
  name: spellbook-ability-rgb-light-name
  description: spellbook-ability-rgb-light-desc
  productAction: ActionRgbLight
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: listing
  id: MageBlink
  name: spellbook-ability-blink-name
  description: spellbook-ability-blink-desc
  productAction: ActionBlink
  cost:
    Spellpoints: 2
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: entity
  id: ActionEMP
  name: spellbook-ability-emp-name
  description: spellbook-ability-emp-desc
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 60
    itemIconStyle: BigAction
    sound: !type:SoundPathSpecifier
      path: /Audio/Magic/forcewall.ogg
    icon:
      sprite: Effects/emp.rsi
      state: emp_pulse
    event: !type:EMPSpellEvent
      posData: !type:TargetInFront
      range: 5
      disableDuration: 10
      energyConsumption: 50000
      speech: action-speech-spell-forcewall

- type: listing
  id: MageEMP
  name: spellbook-ability-emp-name
  description: spellbook-ability-emp-desc
  productAction: ActionEMP
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: entity
  id: ActionSmoke
  name: spellbook-ability-smoke-name
  description: spellbook-ability-smoke-desc
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 10
    itemIconStyle: BigAction
    sound: !type:SoundPathSpecifier
      path: /Audio/Magic/forcewall.ogg
    icon:
      sprite: Objects/Weapons/Grenades/smoke.rsi
      state: icon
    event: !type:SmokeSpellEvent
      posData: !type:TargetInFront
      spreadAmount: 5
      duration: 10
      speech: action-speech-spell-forcewall

- type: listing
  id: MageSmoke
  name: spellbook-ability-smoke-name
  description: spellbook-ability-smoke-desc
  productAction: ActionSmoke
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1

- type: entity
  id: ActionRepulse
  name: spellbook-ability-repulse-name
  description: spellbook-ability-repulse-desc
  noSpawn: true
  components:
  - type: InstantAction
    useDelay: 10
    itemIconStyle: BigAction
    sound: !type:SoundPathSpecifier
      path: /Audio/Magic/forcewall.ogg
    icon:
      sprite: Objects/Weapons/Grenades/smoke.rsi
      state: icon
    event: !type:RepulseSpellEvent
      range: 2
      strength: 10
      speech: action-speech-spell-forcewall

- type: listing
  id: MageRepulse
  name: spellbook-ability-repulse-name
  description: spellbook-ability-repulse-desc
  productAction: ActionRepulse
  cost:
    Spellpoints: 1
  categories:
  - MageAbilities
  conditions:
  - !type:ListingLimitedStockCondition
    stock: 1
